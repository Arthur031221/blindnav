<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>BlindNav å…¬è»Šè¾¨è­˜ç›£çœ‹</title>
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: #0f172a;
      color: #e5e7eb;
      display: flex;
      flex-direction: row;
      height: 100vh;
    }
    #video-panel {
      flex: 3;
      background-color: #020617;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #video-panel img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      background-color: #020617;
      image-rendering: auto;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
      transform: translateZ(0);
      /* å¼·åˆ¶ç¡¬é«”åŠ é€Ÿï¼Œæå‡é¡¯ç¤ºæµæš¢åº¦ */
    }
    #info-panel {
      flex: 2;
      padding: 16px;
      border-left: 1px solid #1e293b;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    h1 {
      font-size: 1.2rem;
      margin: 0;
    }
    .card {
      background-color: #020617;
      border-radius: 12px;
      padding: 12px 14px;
      border: 1px solid #1e293b;
    }
    .label {
      font-size: 0.85rem;
      color: #9ca3af;
      margin-bottom: 4px;
    }
    #bus-number {
      font-size: 2rem;
      font-weight: 700;
      color: #f97316;
    }
    #raw-text {
      white-space: pre-wrap;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.8rem;
      color: #e5e7eb;
    }
  </style>
</head>
<body>
  <div id="video-panel">
    <!-- MJPEG stream -->
    <img id="bus-stream" src="/bus_vision/stream" alt="Bus vision stream" style="display:none;" />
    <!-- æˆåŠŸè¨Šæ¯é¡¯ç¤ºå€åŸŸ -->
    <div id="success-message" style="display:none;text-align:center;padding:40px;color:#e5e7eb;">
      <div style="font-size:2.5rem;color:#22c55e;margin-bottom:20px;">âœ“</div>
      <div style="font-size:1.8rem;font-weight:700;margin-bottom:15px;color:#e5e7eb;">è­˜åˆ¥æˆåŠŸ</div>
      <div style="font-size:1.4rem;color:#94a3b8;margin-bottom:10px;" id="success-bus-number">ç›®æ¨™å…¬è»Š <span style="color:#f97316;font-weight:700;">XXX</span> è™Ÿå³å°‡é€²ç«™</div>
      <div style="font-size:1.1rem;color:#64748b;margin-top:25px;">ä¸Šè»Šå¾Œå°‡ç¹¼çºŒå°èˆª</div>
    </div>
    <!-- å…¬è»Šè¡Œé§›ä¸­è¨Šæ¯é¡¯ç¤ºå€åŸŸ -->
    <div id="bus-riding-message" style="display:none;text-align:center;padding:40px;color:#e5e7eb;">
      <div style="font-size:2.5rem;color:#3b82f6;margin-bottom:20px;">ğŸšŒ</div>
      <div style="font-size:1.8rem;font-weight:700;margin-bottom:15px;color:#e5e7eb;">å…¬è»Šè¡Œé§›ä¸­</div>
      <div style="font-size:1.1rem;color:#64748b;margin-top:25px;">å³å°‡æŠµé”ç›®çš„åœ°</div>
    </div>
    <!-- GPSä½ç½®æç¤ºé¡¯ç¤ºå€åŸŸ -->
    <div id="gps-message" style="display:none;text-align:center;padding:40px;color:#e5e7eb;">
      <div style="font-size:1.8rem;font-weight:600;color:#fbbf24;margin-bottom:10px;" id="gps-text">å†50å…¬å°ºåˆ°é”å…¬è»Šç«™ç‰Œ</div>
    </div>
  </div>
  <div id="info-panel">
    <div>
      <h1>å…¬è»Šå‰æ–¹ LED è¾¨è­˜ç›£çœ‹</h1>
      <div style="font-size:0.9rem;color:#9ca3af;margin-top:8px;">
        æ­¤è¦–çª—é¡¯ç¤ºå…¬è»Šè¾¨è­˜çµæœã€‚è«‹å°‡æ‰‹æ©Ÿé¡é ­å°æº–å…¬è»Šå‰æ–¹çš„é›»å­çœ‹æ¿ã€‚
      </div>
      <div style="font-size:0.85rem;color:#64748b;margin-top:4px;">
        ğŸ’¡ æç¤ºï¼šç³»çµ±æœƒçµ±è¨ˆæœ€è¿‘5æ¬¡åµæ¸¬çµæœï¼Œè¨ˆç®—æ¯å€‹è™Ÿç¢¼çš„ä¿¡å¿ƒåº¦ï¼Œæœ€ä¸Šæ–¹é¡¯ç¤ºæœ€æœ‰ä¿¡å¿ƒçš„å…¬è»Šè™Ÿç¢¼ã€‚
      </div>
    </div>

    <div class="card" style="background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); border: 2px solid #f97316;">
      <div class="label" style="color:#fbbf24;">æœ€æœ‰ä¿¡å¿ƒçš„å…¬è»Šè™Ÿç¢¼</div>
      <div id="best-bus-number" style="font-size:3rem;font-weight:700;color:#f97316;text-align:center;margin:12px 0;">â€”</div>
      <div style="font-size:0.85rem;color:#9ca3af;text-align:center;">
        ä¿¡å¿ƒåº¦ï¼š<span id="best-conf" style="color:#fbbf24;font-weight:600;">â€”</span>
      </div>
    </div>

    <div class="card">
      <div class="label">æ‰€æœ‰åµæ¸¬åˆ°çš„è™Ÿç¢¼</div>
      <div id="all-detections" style="display:flex;flex-direction:column;gap:8px;max-height:200px;overflow-y:auto;">
        <div style="color:#64748b;font-size:0.85rem;">å°šæœªåµæ¸¬åˆ°ä»»ä½•è™Ÿç¢¼</div>
      </div>
    </div>

    <div class="card">
      <div class="label">æœ€è¿‘ä¸€æ¬¡è¾¨è­˜è»Šè™Ÿ</div>
      <div id="bus-number" style="font-size:1.5rem;font-weight:600;color:#e5e7eb;">â€”</div>
      <div style="font-size:0.8rem;color:#9ca3af;margin-top:4px;">
        æœ€è¿‘æ›´æ–°æ™‚é–“ï¼š<span id="bus-time">â€”</span>
      </div>
    </div>

    <div class="card">
      <div class="label">åŸå§‹ OCR æ–‡å­—</div>
      <div id="raw-text" style="max-height:100px;overflow-y:auto;">â€”</div>
    </div>
  </div>

  <script src="/static/bus_monitor.js"></script>
</body>
</html>
